// http://colorschemedesigner.com/#3y31.o-IfX2RA

@charset "UTF-8";

/* normalize.css v2.1.0 | MIT License | git.io/normalize */
/* normalize.scss v2.1.0 | MIT/GPLv2 License | bit.ly/normalize-with-compass */
@import "partials/normalize";

// disable vendor support for minor browsers
$experimental-support-for-opera:false;
$experimental-support-for-khtml:false;
@import "compass/css3";

// module imports
@import "foundation/foundation-global";
@import "modules/base";

// foundation 4 components
@import "foundation/components/global"; // base global
@import "foundation/components/grid";
@import "foundation/components/visibility";

// custom partials
@import "partials/typography";
@import "partials/iconography";

%base-row {
  @include grid-row(nest-collapse);
  max-width: 100%;
}

#container {
  @include grid-row;
  max-width: 100%;
}

#main-header {
  @extend %base-row;
  position: relative;
  z-index: 1;

  opacity: 0;
  @include single-transition(opacity, 2.5s);

  #main-banner {
    // change header transition to use overflow
    //padding: 0;
    //overflow: hidden;
    // height
    //border-bottom: $border-solid-small;
    //@include respond(medium) { border-bottom: $border-solid-large; }

    img {
      width: 100%;
      border-bottom: $border-solid-small;
      @include respond(medium) { border-bottom: $border-solid-large; }
    }
  }

  h1,h2 {
    text-align: right;
    position: absolute;
    bottom: 0;
    right: 0.5em;
    width: 100%;
    color: #fff;
    line-height: 0.5em;
    opacity: 0;
    @include single-transition(opacity, 1.5s);
  }

}

nav {
  @include grid-row(nest-collapse);
  width: 100%;
  height: $mobile-nav-height;
  background: #fff;
  position: fixed;
  border-bottom: $border-dotted-small;
  margin: 0;
  font-family: $sub-header-font;
  font-size: 2em;
  z-index: 1;

  @include respond(small) {
    font-size: 1em;
    height: $small-nav-height;
  }
  @include respond(medium) {
    height: $med-nav-height;
    border-bottom: $border-dotted-large;
  }
  @include respond(large) { height: $large-nav-height; }

  // cubic bezier made at http://matthewlein.com/ceaser/
  @include single-transition(top, 0.3s, ease-in);

  a {
    border-bottom: 0;
  }

  &.show-nav {
    @include single-box-shadow;
    top: -$mobile-nav-height + remCalc(53px);
    @include respond(small) { top: 0px; }

    &.show-mobile-menu {
      top: 0;
    }
  }

  &.hide-nav {
    top: -($mobile-nav-height);
    margin-bottom: -($mobile-nav-height);

    @include respond(small) {
      top: -($small-nav-height);
      margin-bottom: -$small-nav-height
    }
    @include respond(medium) {
      top: -($med-nav-height);
      margin-bottom: -$med-nav-height
    }
    @include respond(large) {
      top: -($large-nav-height);
      margin-bottom: -$large-nav-height
    }

  }

  .icon {
    font-size: 1.5em;
    line-height: 0.8rem;
    display: none;
    @include respond(small) { display: inline; }
  }

  div {
    float: left;
    padding: 7px 15px;
    width: 100%;
    border-top: $border-dotted-small;
    @include respond(small) {
      width: auto;
      border-top: 0;
    }
  }

  ul {
    float: right;
    margin: 0;
    padding: 0;
    width: 100%;

    @include respond(small) { width: auto; }

    li {

      display: block;
      @include respond(small) { display: inline-block; }

      a {
        padding: 7px 15px;
        display: block;

        @include respond(small) {
          border-left: $border-dotted-small;
          border-bottom: 0;
        }
        @include respond(medium) { border-left: $border-dotted-large; }
      }
    }
  }
}

// mobile menu button
#mobile-menu {
  font-size: 2.5em;
  height: remCalc(42px);
  float: right;
  cursor: pointer;

  @include single-transition(all, 1s);
  &.show-mobile-menu {
    @include transform2d(rotate(-405deg));
  }
  i {
    margin-top: remCalc(-31px);
  }
}

#main-content {
  @extend %base-row;
}

// primary content container
section {
  @include grid-row;
  position: relative;
  padding: 0 remCalc(15px);

  // text content width
  // nb: remove the remcalc for these to create ie compatiable version css
  // to work with respond.js
  max-width: remCalc(500px);
  @include respond(small) { max-width: remCalc(600px); }
  @include respond(medium) { max-width: remCalc(750px); }
  @include respond(large) { max-width: remCalc(900px); }

  header {
    height: auto;
    position: absolute;
    bottom: 0;
    color: #777;

    @include transform-origin(0, 0);
    @include transform2d(rotate(-90deg));
    @include single-transition(bottom, 1s);

    h2 {
      //@include transform2d(rotate(-90deg));
      line-height: 1em;
      text-align: cener;
      margin: 0;
      opacity: 0;

      @include single-transition(opacity, 1.5s);
    }
  }

  article {
    margin-left: 2.5em;
  }
  .icon {
    font-size: 1.3em;
  }
}

.divider {
  height: 1px;
  margin: 0 auto;
  width: 60%;
  border-top: $border-dotted-small;
  @include respond(medium) { border-top: $border-dotted-large; }
}

#main-footer {
  @extend %base-row;
  position: relative;
  margin-top: 2em;
  padding: 20px;
  background: url(../images/wavegrid.png);
  color: #333;
  font-size: 0.6em;
  text-align: center;
  height: 7em;

  a {
    color: #333;
  }
}

// retina
.retina {
  #main-footer {
    background: url(../images/wavegrid_@2X.png);
  }
}

// minor position adjustment to cater for windows browsers,
// must be font height issue. Honestly probably better off
// using sprites for these icons!!
.win {
  &.ie9 #mobile-menu .show-for-small {
    display: block !important;
    @include respond(small) { display: none !important; }
  }

  #mobile-menu i {
    margin-top: remCalc(-39px);
  }
  nav {
    .icon {
      line-height: 0.4rem;
    }
  }
}